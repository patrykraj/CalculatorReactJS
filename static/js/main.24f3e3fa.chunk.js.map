{"version":3,"sources":["components/Result.js","components/Buttons.js","Calculator.js","index.js"],"names":["Result","props","className","prevResult","result","Buttons","onClick","clear","backspace","data-key","e","handleInput","target","dataset","key","sumUp","Calculator","state","finalResult","action","operators","clearAll","setState","slice","value","isFlawed","length","alert","includes","forEach","operator","math","toString","console","log","handleKey","isNaN","keyCode","tabIndex","onKeyDown","this","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.24f3e3fa.chunk.js","sourcesContent":["import React from \"react\";\r\nimport \"../styles/Result.css\";\r\n\r\nconst Result = props => {\r\n  return (\r\n    <div className=\"view\">\r\n      <span className=\"prevResult\">\r\n        {props.prevResult ? props.prevResult : null}\r\n      </span>\r\n      <span className=\"currentResult\">\r\n        {props.result ? props.result : null}\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Result;\r\n","import React from \"react\";\r\nimport \"../styles/Buttons.css\";\r\n\r\nconst Buttons = props => {\r\n  return (\r\n    <div className=\"buttons\">\r\n      <button className=\"btn big clear\" onClick={props.clear}>\r\n        CA\r\n      </button>\r\n      <button className=\"btn clear\" onClick={props.backspace}>\r\n        C\r\n      </button>\r\n      <button\r\n        data-key=\"*\"\r\n        className=\"btn\"\r\n        onClick={e => props.handleInput(e.target.dataset.key)}\r\n      >\r\n        x\r\n      </button>\r\n      <button\r\n        data-key=\"7\"\r\n        className=\"btn\"\r\n        onClick={e => props.handleInput(e.target.dataset.key)}\r\n      >\r\n        7\r\n      </button>\r\n      <button\r\n        data-key=\"8\"\r\n        className=\"btn\"\r\n        onClick={e => props.handleInput(e.target.dataset.key)}\r\n      >\r\n        8\r\n      </button>\r\n      <button\r\n        data-key=\"9\"\r\n        className=\"btn\"\r\n        onClick={e => props.handleInput(e.target.dataset.key)}\r\n      >\r\n        9\r\n      </button>\r\n      <button\r\n        data-key=\"/\"\r\n        className=\"btn\"\r\n        onClick={e => props.handleInput(e.target.dataset.key)}\r\n      >\r\n        รท\r\n      </button>\r\n      <button\r\n        data-key=\"4\"\r\n        className=\"btn\"\r\n        onClick={e => props.handleInput(e.target.dataset.key)}\r\n      >\r\n        4\r\n      </button>\r\n      <button\r\n        data-key=\"5\"\r\n        className=\"btn\"\r\n        onClick={e => props.handleInput(e.target.dataset.key)}\r\n      >\r\n        5\r\n      </button>\r\n      <button\r\n        data-key=\"6\"\r\n        className=\"btn\"\r\n        onClick={e => props.handleInput(e.target.dataset.key)}\r\n      >\r\n        6\r\n      </button>\r\n      <button\r\n        data-key=\"-\"\r\n        className=\"btn\"\r\n        onClick={e => props.handleInput(e.target.dataset.key)}\r\n      >\r\n        -\r\n      </button>\r\n      <button\r\n        data-key=\"1\"\r\n        className=\"btn\"\r\n        onClick={e => props.handleInput(e.target.dataset.key)}\r\n      >\r\n        1\r\n      </button>\r\n      <button\r\n        data-key=\"2\"\r\n        className=\"btn\"\r\n        onClick={e => props.handleInput(e.target.dataset.key)}\r\n      >\r\n        2\r\n      </button>\r\n      <button\r\n        data-key=\"3\"\r\n        className=\"btn\"\r\n        onClick={e => props.handleInput(e.target.dataset.key)}\r\n      >\r\n        3\r\n      </button>\r\n      <button\r\n        data-key=\"+\"\r\n        className=\"btn\"\r\n        onClick={e => props.handleInput(e.target.dataset.key)}\r\n      >\r\n        +\r\n      </button>\r\n      <button\r\n        data-key=\".\"\r\n        className=\"btn\"\r\n        onClick={e => props.handleInput(e.target.dataset.key)}\r\n      >\r\n        .\r\n      </button>\r\n      <button\r\n        data-key=\"0\"\r\n        className=\"btn\"\r\n        onClick={e => props.handleInput(e.target.dataset.key)}\r\n      >\r\n        0\r\n      </button>\r\n      <button data-key=\"=\" className=\"big btn\" onClick={props.sumUp}>\r\n        =\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Buttons;\r\n","import React, { Component } from \"react\";\nimport \"./styles/Calculator.css\";\nimport * as math from \"mathjs\";\n\nimport Result from \"./components/Result\";\nimport Buttons from \"./components/Buttons\";\n\nclass Calculator extends Component {\n  state = {\n    result: \"\",\n    finalResult: false\n  };\n\n  action = {\n    operators: [\"*\", \"/\", \"+\", \".\"]\n  };\n\n  clearAll = () => {\n    this.setState({\n      result: \"\",\n      prevResult: \"\",\n      finalResult: false\n    });\n  };\n\n  backspace = () => {\n    this.setState(state => ({\n      result: state.result.slice(0, -1)\n    }));\n  };\n\n  handleInput = value => {\n    const { result } = this.state;\n    const { operators } = this.action;\n    let isFlawed = false;\n\n    if (result.length > 11) return alert(\"Max. 12 chars!\");\n    if (!result && operators.includes(value)) return;\n    if (\n      result[result.length - 1] === \"-\" &&\n      (value === \"-\" || operators.includes(value))\n    )\n      return;\n\n    if (result.length > 0) {\n      operators.forEach(operator => {\n        if (\n          result[result.length - 1] === operator &&\n          operators.includes(value)\n        ) {\n          isFlawed = true;\n        }\n      });\n    }\n\n    if (isFlawed) return;\n\n    if (this.state.finalResult) {\n      this.setState({\n        result: \"\" + value,\n        finalResult: false\n      });\n    } else {\n      this.setState(state => ({\n        result: state.result + value\n      }));\n    }\n  };\n\n  sumUp = () => {\n    const { result } = this.state;\n    const { operators } = this.action;\n\n    if (!result || result === \"-\") return;\n    if (operators.includes(result[result.length - 1]))\n      return alert(\"Error: Wrong input\");\n\n    try {\n      this.setState({\n        result: \"\",\n        prevResult: math.evaluate(this.state.result).toString(),\n        finalResult: true\n      });\n    } catch (e) {\n      console.log(e);\n      alert(\"Error: wrong input\");\n    }\n  };\n\n  handleKey = e => {\n    if (\n      (!isNaN(e.key) ||\n        this.action.operators.includes(e.key) ||\n        e.key === \"-\") &&\n      e.keyCode !== 32\n    )\n      this.handleInput(e.key);\n    else if (e.keyCode === 8) this.backspace();\n    else if (e.keyCode === 13 || e.keyCode === 187) this.sumUp();\n    return;\n  };\n\n  render() {\n    return (\n      <div tabIndex={0} onKeyDown={this.handleKey} className=\"app-containter\">\n        <div className=\"Calculator\">\n          <Result\n            result={this.state.result}\n            prevResult={this.state.prevResult}\n          />\n          <Buttons\n            handleInput={this.handleInput}\n            sumUp={this.sumUp}\n            clear={this.clearAll}\n            backspace={this.backspace}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Calculator;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles/index.css\";\nimport Calculator from \"./Calculator\";\n\nReactDOM.render(<Calculator />, document.getElementById(\"root\"));\n"],"sourceRoot":""}